{
  "schema": {
    "users": {
      "columns": ["id", "name", "email", "signup_date", "state", "age", "phone"],
      "description": "Table containing all user information and profiles."
    },
    "products": {
      "columns": ["id", "name", "price", "category", "created_at", "updated_at", "stock_quantity", "description"],
      "description": "Table for product listings, prices, and inventory."
    },
    "orders": {
      "columns": ["id", "user_id", "product_id", "quantity", "order_date", "total_amount", "status"],
      "description": "Table linking users to products they have ordered with order details."
    }
  },
  "query_patterns": [
    {
      "intent": "find_users_by_state",
      "template": "SELECT id, name, email, signup_date FROM users WHERE state = '?' ORDER BY signup_date DESC",
      "description": "Finds all users in a specific state, ordered by most recent signups.",
      "keywords": ["users", "find", "state", "location", "from", "in"],
      "examples": ["Show me users from California", "Find users in Texas", "Users from New York"]
    },
    {
      "intent": "count_products_by_category",
      "template": "SELECT category, COUNT(*) as product_count FROM products WHERE category = '?' GROUP BY category",
      "description": "Counts how many products are in a given category.",
      "keywords": ["count", "products", "category", "how", "many"],
      "examples": ["Count products in electronics", "How many products in books category", "Number of electronics products"]
    },
    {
      "intent": "get_all_products",
      "template": "SELECT id, name, price, category, stock_quantity FROM products ORDER BY created_at DESC LIMIT 100",
      "description": "Retrieves all products with key information, showing the newest first.",
      "keywords": ["get", "all", "products", "list", "show", "display"],
      "examples": ["Show all products", "List all products", "Get products", "Display all items"]
    },
    {
      "intent": "find_products_by_price_range",
      "template": "SELECT id, name, price, category FROM products WHERE price BETWEEN ? AND ? ORDER BY price ASC",
      "description": "Finds products within a specific price range.",
      "keywords": ["products", "price", "between", "range", "under", "over", "cheap", "expensive"],
      "examples": ["Products between $10 and $50", "Cheap products under $20", "Expensive items over $100"]
    },
    {
      "intent": "recent_orders",
      "template": "SELECT o.id, u.name, p.name as product_name, o.quantity, o.order_date FROM orders o JOIN users u ON o.user_id = u.id JOIN products p ON o.product_id = p.id WHERE o.order_date >= DATE_SUB(NOW(), INTERVAL ? DAY) ORDER BY o.order_date DESC",
      "description": "Shows recent orders with user and product information.",
      "keywords": ["orders", "recent", "last", "today", "yesterday", "week", "days"],
      "examples": ["Recent orders", "Orders from last week", "Orders today", "Recent purchases"]
    },
    {
      "intent": "top_selling_products",
      "template": "SELECT p.name, p.category, SUM(o.quantity) as total_sold FROM products p JOIN orders o ON p.id = o.product_id GROUP BY p.id, p.name, p.category ORDER BY total_sold DESC LIMIT ?",
      "description": "Shows the top-selling products by quantity sold.",
      "keywords": ["top", "best", "selling", "popular", "most", "sold"],
      "examples": ["Top selling products", "Best selling items", "Most popular products", "Top 10 products"]
    },
    {
      "intent": "user_order_history",
      "template": "SELECT u.name, p.name as product_name, o.quantity, o.order_date, o.total_amount FROM users u JOIN orders o ON u.id = o.user_id JOIN products p ON o.product_id = p.id WHERE u.name LIKE '%?%' OR u.email LIKE '%?%' ORDER BY o.order_date DESC",
      "description": "Shows order history for a specific user by name or email.",
      "keywords": ["user", "orders", "history", "purchases", "bought", "customer"],
      "examples": ["Orders by John Smith", "Purchase history for user@example.com", "What did John buy"]
    },
    {
      "intent": "products_low_stock",
      "template": "SELECT id, name, category, stock_quantity FROM products WHERE stock_quantity <= ? ORDER BY stock_quantity ASC",
      "description": "Finds products with low stock levels.",
      "keywords": ["low", "stock", "inventory", "running", "out", "shortage"],
      "examples": ["Products with low stock", "Low inventory items", "Products running out of stock"]
    },
    {
      "intent": "sales_by_category",
      "template": "SELECT p.category, COUNT(o.id) as order_count, SUM(o.total_amount) as total_revenue FROM products p JOIN orders o ON p.id = o.product_id GROUP BY p.category ORDER BY total_revenue DESC",
      "description": "Shows sales performance by product category.",
      "keywords": ["sales", "revenue", "category", "performance", "earnings"],
      "examples": ["Sales by category", "Revenue per category", "Category performance", "Which category sells best"]
    },
    {
      "intent": "new_users",
      "template": "SELECT id, name, email, signup_date, state FROM users WHERE signup_date >= DATE_SUB(NOW(), INTERVAL ? DAY) ORDER BY signup_date DESC",
      "description": "Shows users who signed up recently.",
      "keywords": ["new", "users", "registered", "signup", "joined", "recent"],
      "examples": ["New users this week", "Recently registered users", "Users who joined today", "New signups"]
    },
    {
      "intent": "search_products_by_name",
      "template": "SELECT id, name, price, category, stock_quantity FROM products WHERE name LIKE '%?%' OR description LIKE '%?%' ORDER BY name ASC",
      "description": "Searches for products by name or description.",
      "keywords": ["search", "find", "product", "name", "contains", "like"],
      "examples": ["Search for iPhone products", "Find products containing 'laptop'", "Products with 'wireless' in name"]
    },
    {
      "intent": "average_order_value",
      "template": "SELECT AVG(total_amount) as average_order_value, COUNT(*) as total_orders FROM orders WHERE order_date >= DATE_SUB(NOW(), INTERVAL ? DAY)",
      "description": "Calculates the average order value over a time period.",
      "keywords": ["average", "order", "value", "mean", "typical", "usual"],
      "examples": ["Average order value", "What's the typical order amount", "Mean order value this month"]
    }
  ]
}
